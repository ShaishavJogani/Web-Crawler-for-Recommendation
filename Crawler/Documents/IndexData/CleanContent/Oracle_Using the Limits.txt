Environment Evaluation Evaluation include , system level , amount memory available application , whether XML , XSD , XSL source untrusted source accept process , application level , whether certain construct DTDs use . Memory Setting Limits XML processing memory intensive . The amount memory allow consume depend requirement application specific environment . Processing malformed XML data must prevent consume excessive memory . The default limit generally set allow legitimate XML input application memory usage allow small hardware system , PC . It recommend limit set small possible value , malformed input catch consume large amount memory . The limit correlate , entirely redundant . You set appropriate value limit : usually limit set much small value default . As example , ENTITY_EXPANSION_LIMIT GENERAL_ENTITY_SIZE_LIMIT set prevent excessive entity reference . But exact combination expansion entity size unknown , TOTAL_ENTITY_SIZE_LIMIT serve overall control . Similarly , TOTAL_ENTITY_SIZE_LIMIT control total size replacement text , text large chunk XML , ENTITY_REPLACEMENT_LIMIT set restriction total number node appear text prevents overload system . Estimating Limits Using getEntityCountInfo Property To help analyze value set limit , special property call http : //www.oracle.com/xml/jaxp/properties/getEntityCountInfo available . The following code snippet show example use property : parser.setProperty ( `` http : //www.oracle.com/xml/jaxp/properties/getEntityCountInfo '' , `` yes '' ) ; See Samples information download example code . When program run DTD W3C MathML 3.0 , print follow table : Property Limit Total Size Size Entity Name ENTITY_EXPANSION_LIMIT 64000 1417 0 null MAX_OCCUR_NODE_LIMIT 5000 0 0 null ELEMENT_ATTRIBUTE_LIMIT 10000 0 0 null TOTAL_ENTITY_SIZE_LIMIT 50000000 55425 0 null GENERAL_ENTITY_SIZE_LIMIT 0 0 0 null PARAMETER_ENTITY_SIZE_LIMIT 1000000 0 7303 % MultiScriptExpression MAX_ELEMENT_DEPTH_LIMIT 0 2 0 null MAX_NAME_LIMIT 1000 13 13 null ENTITY_REPLACEMENT_LIMIT 3000000 0 0 null In example , total number entity reference , entity expansion , 1417 ; default limit 64000 . The total size entity 55425 ; default limit 50000000 . The big parameter entity % MultiScriptExpression length 7303 reference resolve ; default limit 1000000 . If large file application expect process , recommend limit set small number . For example , 2000 ENTITY_EXPANSION_LIMIT , 100000 TOTAL_ENTITY_SIZE_LIMIT , 10000 PARAMETER_ENTITY_SIZE_LIMIT . Setting Limits Limits set way JAXP property . They set factory method , parser : DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance ( ) ; dbf.setAttribute ( name , value ) ; SAXParserFactory spf = SAXParserFactory.newInstance ( ) ; SAXParser parser = spf.newSAXParser ( ) ; parser.setProperty ( name , value ) ; XMLInputFactory xif = XMLInputFactory.newInstance ( ) ; xif.setProperty ( name , value ) ; SchemaFactory schemaFactory = SchemaFactory.newInstance ( schemaLanguage ) ; schemaFactory.setProperty ( name , value ) ; TransformerFactory factory = TransformerFactory.newInstance ( ) ; factory.setAttribute ( name , value ) ; The following example show set limit use DocumentBuilderFactory : dbf.setAttribute ( JDK_ENTITY_EXPANSION_LIMIT , `` 2000 '' ) ; dbf.setAttribute ( TOTAL_ENTITY_SIZE_LIMIT , `` 100000 '' ) ; dbf.setAttribute ( PARAMETER_ENTITY_SIZE_LIMIT , `` 10000 '' ) ; dbf.setAttribute ( JDK_MAX_ELEMENT_DEPTH , `` 100 '' ) ; Using System Properties System property may useful change code feasible . To set limit entire invocation JDK JRE , set system property command line . To set limit portion application , system property may set section clear afterwards . The following code show system property may use : public static final String SP_GENERAL_ENTITY_SIZE_LIMIT = `` jdk.xml.maxGeneralEntitySizeLimit '' ; //set limit use system property System.setProperty ( SP_GENERAL_ENTITY_SIZE_LIMIT , `` 2000 '' ) ; //this setting affect processing 's set ... //after , clear property System.clearProperty ( SP_GENERAL_ENTITY_SIZE_LIMIT ) ; Note value property expect integer . A NumberFormatException throw value enter contain parsable integer ; see method parseInt ( String ) . See Samples information download example code . Using jaxp.properties File The jaxp.properties file configuration file . It usually locate $ { java.home } /lib/jaxp.properties java.home JRE install directory , e.g. , [ path installation directory ] /jdk8/jre . A limit set add following line jaxp.properties file : jdk.xml.maxGeneralEntitySizeLimit=2000 Note property name system property prefix jdk.xml . The value property expect integer . A NumberFormatException throw value enter contain parsable integer ; see method parseInt ( String ) . When property set file , invocation JDK JRE observe limit .