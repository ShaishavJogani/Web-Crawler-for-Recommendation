The Manage Referral control ( RFC 3296 ) enable manipulation referral special object normal object perform LDAP operation . In word , Manage Referral control tell LDAP server return referral entry ordinary entry instead return `` referral '' error responses continuation reference . The new class JDK 5.0 enables send Manage Referral Control along LDAP request : javax.naming.ldap.ManageReferralControl The LDAP service provider JDK send control automatically along request . You also explicitly enable set Context.REFERRAL environment property `` ignore '' . For information Referral handle check Referrals JNDI section JNDI Tutorial . Here example send Manage Referral control along LDAP request . // Create initial context LdapContext ctx = ( LdapContext ) new InitialDirContext ( env ) ; ctx.setRequestControl ( new Control [ ] new ManageReferralControl ( ) ) ; // Set control perform subtree search SearchControls ctls = new SearchControls ( ) ; ctls.setSearchScope ( SearchControls.SUBTREE_SCOPE ) ; // Perform search NamingEnumeration answer = ctx.search ( `` '' , `` ( objectclass=* ) '' , ctls ) ; // Print answer ( answer.hasMore ( ) ) { System.out.println ( `` > > > '' + ( ( SearchResult ) answer.next ( ) ) .getName ( ) ) ; } // Close context 're ctx.close ( ) ; The complete example find . Note 1 : The example require set second server use configuration file refserver.ldif . The server must support LDAP v3 RFC 3296 . If server support referral way , example wo n't work show . The configuration file contain referral point original server 've set . It assume original server port 389 local machine . If set server another machine port , need edit `` ref '' entry refserver.ldif file replace `` localhost:389 '' appropriate setting . The second server set port 489 local machine . If set second server another machine port , need adjust setting Context.PROVIDER_URL environment property initial context accordingly . Setting directory server typically perform directory system administrator . See Software Setup lesson information . Note 2 : Windows Active Directory : Because Active Directory support Manage Referral control , none example lesson work Active Directory .